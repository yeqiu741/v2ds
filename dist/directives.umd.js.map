{"version":3,"file":"directives.umd.js","sources":["../src/modules/debounce.js","../src/modules/index.js","../src/modules/throttle.js","../src/main.js"],"sourcesContent":["// 防抖\nexport const debounce = Object.seal({\n  name: 'debounce',\n  bind(el, bindding, vnode) {\n    const event = bindding.arg // 事件名称\n    const fn = bindding.value // 事件的方法\n    let { wait } = el.dataset\n    if (!wait) wait = 1000\n    else wait = parseInt(wait)\n    let time = null\n    const _fn = e => {\n      if (time) clearTimeout(time)\n      time = setTimeout(() => {\n        fn()\n        clearTimeout(time)\n      }, wait)\n    }\n    el.addEventListener(event, _fn)\n    el._addEvent_ = _fn\n  },\n  unbind(el, bindding) {\n    const event = bindding.arg\n    el.removeEventListener(event, el._addEvent_)\n    delete el._addEvent_\n  }\n})","import { debounce } from './debounce'\nimport { throttle } from './throttle'\nexport {\n  debounce,\n  throttle\n}\nexport default {\n  debounce, \n  throttle\n}\n","/**\n * @description 节流自定义指令\n * @author 叶秋\n * @return { Object }\n */\nexport const throttle = Object.seal({\n  name: 'throttle',\n  bind(el, bindding, vnode) {\n    const event = bindding.arg // 事件名称\n    const fn = bindding.value // 事件的方法\n    const isEmit = bindding.modifiers?.emit\n    let _this = null\n    if (Object.hasOwn(el, '_isVue'))  _this = el.__vue__\n    let { wait, immediate } = el.dataset\n    if (!wait) wait = 1000\n    else wait = parseInt(wait)\n    let timer = null\n    const _fn = e => {\n      if (timer) return\n      if (immediate) fn()\n      timer = setTimeout(() => {\n        if (!immediate) fn()\n        timer = null\n      }, wait)\n    }\n    isEmit ? (_this ? _this.$on(event, _fn) : '') : el.addEventListener(event, _fn)\n    el._addEvent_ = _fn\n    el.type = isEmit ? 'emit' : 'native'\n  },\n  unbind(el, bindding) {\n    const event = bindding.arg\n    let _this = null\n    if (Object.hasOwn(el, '_isVue'))  _this = el.__vue__\n    el.type === 'emit' ? (_this ? _this.$off(event, el._addEvent_) : '') : el.removeEventListener(event, el._addEvent_)\n    delete el._addEvent_\n    delete el.type\n    delete el._this\n  }\n})","import directive from './modules/index'\n/**\n * @description 给Vue抛出的install方法，当通过Vue.use(<本插件>)使用本插件的时候被调用\n * @param { Vue } Vue实例\n * @param { Array } opt 配置数组。 如果不想将所有的指令都注册到全局，则可在此按需配置需要全局配置的增强指令\n */\nfunction install(vue, opt=[]) {\n  if (!vue) return\n  Object.keys(directive).forEach((key) => {\n    if (opt.length !== 0) {\n      if (opt.indexOf(key) === -1) {\n        vue.directive(key, directive[key])\n      }\n    } else {\n      vue.directive(key, directive[key])\n    }\n  })\n}\nexport default {\n  install\n}"],"names":["directive","debounce","Object","seal","name","bind","el","bindding","vnode","event","arg","fn","value","wait","dataset","parseInt","time","_fn","e","clearTimeout","setTimeout","addEventListener","_addEvent_","unbind","removeEventListener","throttle","_bindding$modifiers","isEmit","modifiers","emit","_this","hasOwn","__vue__","_el$dataset","immediate","timer","$on","type","$off","main","install","vue","opt","arguments","length","undefined","keys","forEach","key","indexOf"],"mappings":"0OACO,ICKQA,EAAA,CACbC,SDNsBC,OAAOC,KAAK,CAClCC,KAAM,WACNC,cAAKC,EAAIC,EAAUC,GACjB,IAAMC,EAAQF,EAASG,IACjBC,EAAKJ,EAASK,MACdC,EAASP,EAAGQ,QAAZD,KAEDA,EADAA,EACOE,SAASF,GADH,IAElB,IAAIG,EAAO,KACLC,EAAM,SAAAC,GACNF,GAAMG,aAAaH,GACvBA,EAAOI,YAAW,WAChBT,IACAQ,aAAaH,EACd,GAAEH,IAELP,EAAGe,iBAAiBZ,EAAOQ,GAC3BX,EAAGgB,WAAaL,CACjB,EACDM,OAAMA,SAACjB,EAAIC,GACT,IAAME,EAAQF,EAASG,IACvBJ,EAAGkB,oBAAoBf,EAAOH,EAAGgB,mBAC1BhB,EAAGgB,UACZ,IChBAG,SCHsBvB,OAAOC,KAAK,CAClCC,KAAM,WACNC,cAAKC,EAAIC,EAAUC,GAAO,IAAAkB,EAClBjB,EAAQF,EAASG,IACjBC,EAAKJ,EAASK,MACde,EAA2B,QAArBD,EAAGnB,EAASqB,iBAAS,IAAAF,OAAA,EAAlBA,EAAoBG,KAC/BC,EAAQ,KACR5B,OAAO6B,OAAOzB,EAAI,YAAYwB,EAAQxB,EAAG0B,SAC7C,IAAAC,EAA0B3B,EAAGQ,QAAvBD,EAAIoB,EAAJpB,KAAMqB,EAASD,EAATC,UAEPrB,EADAA,EACOE,SAASF,GADH,IAElB,IAAIsB,EAAQ,KACNlB,EAAM,SAAAC,GACNiB,IACAD,GAAWvB,IACfwB,EAAQf,YAAW,WACZc,GAAWvB,IAChBwB,EAAQ,IACT,GAAEtB,KAELc,EAAUG,GAAQA,EAAMM,IAAI3B,EAAOQ,GAAaX,EAAGe,iBAAiBZ,EAAOQ,GAC3EX,EAAGgB,WAAaL,EAChBX,EAAG+B,KAAOV,EAAS,OAAS,QAC7B,EACDJ,OAAMA,SAACjB,EAAIC,GACT,IAAME,EAAQF,EAASG,IACnBoB,EAAQ,KACR5B,OAAO6B,OAAOzB,EAAI,YAAYwB,EAAQxB,EAAG0B,SACjC,SAAZ1B,EAAG+B,KAAmBP,GAAQA,EAAMQ,KAAK7B,EAAOH,EAAGgB,YAAoBhB,EAAGkB,oBAAoBf,EAAOH,EAAGgB,mBACjGhB,EAAGgB,kBACHhB,EAAG+B,YACH/B,EAAGwB,KACZ,KCnBa,IAAAS,EAAA,CACbC,QAbF,SAAiBC,GAAa,IAARC,EAAGC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,GACnBF,GACLvC,OAAO4C,KAAK9C,GAAW+C,SAAQ,SAACC,GACX,IAAfN,EAAIE,QACoB,IAAtBF,EAAIO,QAAQD,IACdP,EAAIzC,UAAUgD,EAAKhD,EAAUgD,IAG/BP,EAAIzC,UAAUgD,EAAKhD,EAAUgD,GAEjC,GACF"}